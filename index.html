<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Kana Learning App</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      display: flex;
      align-items: center;
      justify-content: center;
      margin: 0;
      background-color: #f5f5f5;
      flex-direction: column;
    }
    .card {
      text-align: center;
      padding: 20px;
      border-radius: 10px;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
      background-color: #fff;
      width: 300px;
    }
    .character {
      font-size: 64px;
      margin: 20px 0;
    }
    .input-section {
      margin-top: 20px;
    }
    input[type="text"] {
      padding: 10px;
      font-size: 18px;
      border: 1px solid #ddd;
      border-radius: 5px;
    }
    button {
      padding: 10px 20px;
      font-size: 18px;
      background-color: #4CAF50;
      color: white;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      margin-top: 10px;
    }
    button:hover {
      background-color: #45a049;
    }
    .result {
      margin-top: 20px;
      font-size: 18px;
    }
    .results-table {
      margin-top: 20px;
      border-collapse: collapse;
      width: 100%;
    }
    .results-table th, .results-table td {
      padding: 8px;
      border: 1px solid #ddd;
      text-align: center;
    }
    .selector {
      margin-bottom: 15px;
    }
    .selector label {
      margin-right: 10px;
      font-weight: bold;
    }
  </style>
</head>
<body>
  <div class="card" id="card">
    <div class="selector">
      <label><input type="radio" name="script" value="hiragana" checked> Hiragana</label>
      <label><input type="radio" name="script" value="katakana"> Katakana</label>
    </div>
    <h1 id="title">Hiragana Learning App</h1>
    <div class="character" id="kana-character">„ÅÇ</div>
    <div class="input-section">
      <input type="text" id="answer-input" placeholder="Enter romaji (e.g., a)">
      <button onclick="checkAnswer()">Check Answer</button>
    </div>
    <div class="result" id="result"></div>
  </div>

  <script>
    const hiragana = [
      { char: "„ÅÇ", romaji: "a" },{ char: "„ÅÑ", romaji: "i" },{ char: "„ÅÜ", romaji: "u" },{ char: "„Åà", romaji: "e" },{ char: "„Åä", romaji: "o" },
      { char: "„Åã", romaji: "ka" },{ char: "„Åç", romaji: "ki" },{ char: "„Åè", romaji: "ku" },{ char: "„Åë", romaji: "ke" },{ char: "„Åì", romaji: "ko" },
      { char: "„Åï", romaji: "sa" },{ char: "„Åó", romaji: "shi" },{ char: "„Åô", romaji: "su" },{ char: "„Åõ", romaji: "se" },{ char: "„Åù", romaji: "so" },
      { char: "„Åü", romaji: "ta" },{ char: "„Å°", romaji: "chi" },{ char: "„Å§", romaji: "tsu" },{ char: "„Å¶", romaji: "te" },{ char: "„Å®", romaji: "to" },
      { char: "„Å™", romaji: "na" },{ char: "„Å´", romaji: "ni" },{ char: "„Å¨", romaji: "nu" },{ char: "„Å≠", romaji: "ne" },{ char: "„ÅÆ", romaji: "no" },
      { char: "„ÅØ", romaji: "ha" },{ char: "„Å≤", romaji: "hi" },{ char: "„Åµ", romaji: "fu" },{ char: "„Å∏", romaji: "he" },{ char: "„Åª", romaji: "ho" },
      { char: "„Åæ", romaji: "ma" },{ char: "„Åø", romaji: "mi" },{ char: "„ÇÄ", romaji: "mu" },{ char: "„ÇÅ", romaji: "me" },{ char: "„ÇÇ", romaji: "mo" },
      { char: "„ÇÑ", romaji: "ya" },{ char: "„ÇÜ", romaji: "yu" },{ char: "„Çà", romaji: "yo" },
      { char: "„Çâ", romaji: "ra" },{ char: "„Çä", romaji: "ri" },{ char: "„Çã", romaji: "ru" },{ char: "„Çå", romaji: "re" },{ char: "„Çç", romaji: "ro" },
      { char: "„Çè", romaji: "wa" },{ char: "„Çí", romaji: "wo" },{ char: "„Çì", romaji: "n" }
    ];
    const katakana = [
      { char: "„Ç¢", romaji: "a" },{ char: "„Ç§", romaji: "i" },{ char: "„Ç¶", romaji: "u" },{ char: "„Ç®", romaji: "e" },{ char: "„Ç™", romaji: "o" },
      { char: "„Ç´", romaji: "ka" },{ char: "„Ç≠", romaji: "ki" },{ char: "„ÇØ", romaji: "ku" },{ char: "„Ç±", romaji: "ke" },{ char: "„Ç≥", romaji: "ko" },
      { char: "„Çµ", romaji: "sa" },{ char: "„Ç∑", romaji: "shi" },{ char: "„Çπ", romaji: "su" },{ char: "„Çª", romaji: "se" },{ char: "„ÇΩ", romaji: "so" },
      { char: "„Çø", romaji: "ta" },{ char: "„ÉÅ", romaji: "chi" },{ char: "„ÉÑ", romaji: "tsu" },{ char: "„ÉÜ", romaji: "te" },{ char: "„Éà", romaji: "to" },
      { char: "„Éä", romaji: "na" },{ char: "„Éã", romaji: "ni" },{ char: "„Éå", romaji: "nu" },{ char: "„Éç", romaji: "ne" },{ char: "„Éé", romaji: "no" },
      { char: "„Éè", romaji: "ha" },{ char: "„Éí", romaji: "hi" },{ char: "„Éï", romaji: "fu" },{ char: "„Éò", romaji: "he" },{ char: "„Éõ", romaji: "ho" },
      { char: "„Éû", romaji: "ma" },{ char: "„Éü", romaji: "mi" },{ char: "„É†", romaji: "mu" },{ char: "„É°", romaji: "me" },{ char: "„É¢", romaji: "mo" },
      { char: "„É§", romaji: "ya" },{ char: "„É¶", romaji: "yu" },{ char: "„É®", romaji: "yo" },
      { char: "„É©", romaji: "ra" },{ char: "„É™", romaji: "ri" },{ char: "„É´", romaji: "ru" },{ char: "„É¨", romaji: "re" },{ char: "„É≠", romaji: "ro" },
      { char: "„ÉØ", romaji: "wa" },{ char: "„É≤", romaji: "wo" },{ char: "„É≥", romaji: "n" }
    ];

    let currentCharacter = {};
    let shuffledList = [];
    let results = [];

    function shuffle(array) {
      for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
      }
      return array;
    }

    function getScriptData() {
      const script = document.querySelector('input[name="script"]:checked').value;
      return {
        list: script === 'katakana' ? katakana : hiragana,
        title: script === 'katakana' ? 'Katakana Learning App' : 'Hiragana Learning App'
      };
    }

    function init() {
      const { list, title } = getScriptData();
      document.getElementById('title').textContent = title;
      shuffledList = shuffle([...list]);
      results = [];
      showRandomCharacter();
    }

    function showRandomCharacter() {
      if (shuffledList.length === 0) {
        showResults();
        return;
      }
      currentCharacter = shuffledList.pop();
      document.getElementById('kana-character').textContent = currentCharacter.char;
      document.getElementById('result').textContent = '';
      document.getElementById('answer-input').value = '';
      document.getElementById('answer-input').focus();
    }

    function checkAnswer() {
      const input = document.getElementById('answer-input').value.trim().toLowerCase();
      const correct = input === currentCharacter.romaji;
      results.push({ ...currentCharacter, answer: input, correct });
      const resEl = document.getElementById('result');
      if (correct) {
        resEl.textContent = 'Correct! üéâ';
        resEl.style.color = 'green';
      } else {
        resEl.textContent = `Incorrect! The correct answer is "${currentCharacter.romaji}".`;
        resEl.style.color = 'red';
      }
      setTimeout(showRandomCharacter, 1000);
    }

    function showResults() {
      const card = document.getElementById('card');
      const total = getScriptData().list.length;
      const score = results.filter(r => r.correct).length;
      card.innerHTML = `<h2>Results ${score}/${total} correct</h2>
        <table class="results-table">
          <tr><th>Character</th><th>Your Answer</th><th>Correct Answer</th><th>Result</th></tr>
        </table>`;
      const table = card.querySelector('.results-table');
      results.forEach(r => {
        const row = document.createElement('tr');
        row.innerHTML = `
          <td>${r.char}</td>
          <td>${r.answer}</td>
          <td>${r.romaji}</td>
          <td style="color: ${r.correct ? 'green':'red'};">${r.correct ? 'Correct':'Incorrect'}</td>
        `;
        table.appendChild(row);
      });
      const btn = document.createElement('button');
      btn.textContent = 'Restart';
      btn.onclick = function() { location.reload(); };
      card.appendChild(btn);
    }

    document.querySelectorAll('input[name="script"]').forEach(radio => {
      radio.addEventListener('change', init);
    });
    document.getElementById('answer-input').addEventListener('keydown', e => {
      if (e.key === 'Enter') checkAnswer();
    });

    init();
  </script>
</body>
</html>
